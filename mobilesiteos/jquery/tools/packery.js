msos.provide("jquery.tools.packery");jquery.tools.packery.version=new msos.set_version(14,2,5);(function(_1){var _2=Array.prototype.slice;function _3(){};function _4($){if(!$){return;}function _5(_6){if(_6.prototype.option){return;}_6.prototype.option=function(_7){if(!$.isPlainObject(_7)){return;}this.options=$.extend(true,this.options,_7);};};var _8=typeof console==="undefined"?_3:function(_9){console.error(_9);};function _a(_b,_c){$.fn[_b]=function(_d){if(typeof _d==="string"){var _e=_2.call(arguments,1);for(var i=0,_f=this.length;i<_f;i++){var _10=this[i];var _11=$.data(_10,_b);if(!_11){_8("cannot call methods on "+_b+" prior to initialization; "+"attempted to call '"+_d+"'");continue;}if(!$.isFunction(_11[_d])||_d.charAt(0)==="_"){_8("no such method '"+_d+"' for "+_b+" instance");continue;}var _12=_11[_d].apply(_11,_e);if(_12!==undefined){return _12;}}return this;}else{return this.each(function(){var _13=$.data(this,_b);if(_13){_13.option(_d);_13._init();}else{_13=new _c(this,_d);$.data(this,_b,_13);}});}};};$.bridget=function(_14,_15){_5(_15);_a(_14,_15);};return $.bridget;};if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],_4);}else{_4(_1.jQuery);}})(window);(function(_16){function _17(_18){return new RegExp("(^|\\s+)"+_18+"(\\s+|$)");};var _19,_1a,_1b;if("classList" in document.documentElement){_19=function(_1c,c){return _1c.classList.contains(c);};_1a=function(_1d,c){_1d.classList.add(c);};_1b=function(_1e,c){_1e.classList.remove(c);};}else{_19=function(_1f,c){return _17(c).test(_1f.className);};_1a=function(_20,c){if(!_19(_20,c)){_20.className=_20.className+" "+c;}};_1b=function(_21,c){_21.className=_21.className.replace(_17(c)," ");};}function _22(_23,c){var fn=_19(_23,c)?_1b:_1a;fn(_23,c);};var _24={hasClass:_19,addClass:_1a,removeClass:_1b,toggleClass:_22,has:_19,add:_1a,remove:_1b,toggle:_22};if(typeof define==="function"&&define.amd){define("classie/classie",_24);}else{_16.classie=_24;}})(window);(function(_25){var _26="Webkit Moz ms Ms O".split(" ");var _27=document.documentElement.style;function _28(_29){if(!_29){return;}if(typeof _27[_29]==="string"){return _29;}_29=_29.charAt(0).toUpperCase()+_29.slice(1);var _2a;for(var i=0,len=_26.length;i<len;i++){_2a=_26[i]+_29;if(typeof _27[_2a]==="string"){return _2a;}}};if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return _28;});}else{if(typeof exports==="object"){module.exports=_28;}else{_25.getStyleProperty=_28;}}})(window);(function(_2b,_2c){var _2d=_2b.getComputedStyle;var _2e=_2d?function(_2f){return _2d(_2f,null);}:function(_30){return _30.currentStyle;};function _31(_32){var num=parseFloat(_32);var _33=_32.indexOf("%")===-1&&!isNaN(num);return _33&&num;};var _34=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function _35(){var _36={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0,len=_34.length;i<len;i++){var _37=_34[i];_36[_37]=0;}return _36;};function _38(_39){var _3a=_39("boxSizing");var _3b;(function(){if(!_3a){return;}var div=document.createElement("div");div.style.width="200px";div.style.padding="1px 2px 3px 4px";div.style.borderStyle="solid";div.style.borderWidth="1px 2px 3px 4px";div.style[_3a]="border-box";var _3c=document.body||document.documentElement;_3c.appendChild(div);var _3d=_2e(div);_3b=_31(_3d.width)===200;_3c.removeChild(div);})();function _3e(_3f){if(typeof _3f==="string"){_3f=document.querySelector(_3f);}if(!_3f||typeof _3f!=="object"||!_3f.nodeType){return;}var _40=_2e(_3f);if(_40.display==="none"){return _35();}var _41={};_41.width=_3f.offsetWidth;_41.height=_3f.offsetHeight;var _42=_41.isBorderBox=!!(_3a&&_40[_3a]&&_40[_3a]==="border-box");for(var i=0,len=_34.length;i<len;i++){var _43=_34[i];var _44=_40[_43];_44=_45(_3f,_44);var num=parseFloat(_44);_41[_43]=!isNaN(num)?num:0;}var _46=_41.paddingLeft+_41.paddingRight;var _47=_41.paddingTop+_41.paddingBottom;var _48=_41.marginLeft+_41.marginRight;var _49=_41.marginTop+_41.marginBottom;var _4a=_41.borderLeftWidth+_41.borderRightWidth;var _4b=_41.borderTopWidth+_41.borderBottomWidth;var _4c=_42&&_3b;var _4d=_31(_40.width);if(_4d!==false){_41.width=_4d+(_4c?0:_46+_4a);}var _4e=_31(_40.height);if(_4e!==false){_41.height=_4e+(_4c?0:_47+_4b);}_41.innerWidth=_41.width-(_46+_4a);_41.innerHeight=_41.height-(_47+_4b);_41.outerWidth=_41.width+_48;_41.outerHeight=_41.height+_49;return _41;};function _45(_4f,_50){if(_2d||_50.indexOf("%")===-1){return _50;}var _51=_4f.style;var _52=_51.left;var rs=_4f.runtimeStyle;var _53=rs&&rs.left;if(_53){rs.left=_4f.currentStyle.left;}_51.left=_50;_50=_51.pixelLeft;_51.left=_52;if(_53){rs.left=_53;}return _50;};return _3e;};if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],_38);}else{if(typeof exports==="object"){module.exports=_38(require("get-style-property"));}else{_2b.getSize=_38(_2b.getStyleProperty);}}})(window);(function(_54){var _55=document.documentElement;var _56=function(){};function _57(obj){var _58=_54.event;_58.target=_58.target||_58.srcElement||obj;return _58;};if(_55.addEventListener){_56=function(obj,_59,fn){obj.addEventListener(_59,fn,false);};}else{if(_55.attachEvent){_56=function(obj,_5a,fn){obj[_5a+fn]=fn.handleEvent?function(){var _5b=_57(obj);fn.handleEvent.call(fn,_5b);}:function(){var _5c=_57(obj);fn.call(obj,_5c);};obj.attachEvent("on"+_5a,obj[_5a+fn]);};}}var _5d=function(){};if(_55.removeEventListener){_5d=function(obj,_5e,fn){obj.removeEventListener(_5e,fn,false);};}else{if(_55.detachEvent){_5d=function(obj,_5f,fn){obj.detachEvent("on"+_5f,obj[_5f+fn]);try{delete obj[_5f+fn];}catch(err){obj[_5f+fn]=undefined;}};}}var _60={bind:_56,unbind:_5d};if(typeof define==="function"&&define.amd){define("eventie/eventie",_60);}else{if(typeof exports==="object"){module.exports=_60;}else{_54.eventie=_60;}}})(this);(function(_61){var _62=_61.document;var _63=[];function _64(fn){if(typeof fn!=="function"){return;}if(_64.isReady){fn();}else{_63.push(fn);}};_64.isReady=false;function _65(_66){var _67=_66.type==="readystatechange"&&_62.readyState!=="complete";if(_64.isReady||_67){return;}_64.isReady=true;for(var i=0,len=_63.length;i<len;i++){var fn=_63[i];fn();}};function _68(_69){_69.bind(_62,"DOMContentLoaded",_65);_69.bind(_62,"readystatechange",_65);_69.bind(_61,"load",_65);return _64;};if(typeof define==="function"&&define.amd){_64.isReady=typeof requirejs==="function";define("doc-ready/doc-ready",["eventie/eventie"],_68);}else{_61.docReady=_68(_61.eventie);}})(this);(function(){function _6a(){};var _6b=_6a.prototype;var _6c=this;var _6d=_6c.EventEmitter;function _6e(_6f,_70){var i=_6f.length;while(i--){if(_6f[i].listener===_70){return i;}}return -1;};function _71(_72){return function aliasClosure(){return this[_72].apply(this,arguments);};};_6b.getListeners=function getListeners(evt){var _73=this._getEvents();var _74;var key;if(evt instanceof RegExp){_74={};for(key in _73){if(_73.hasOwnProperty(key)&&evt.test(key)){_74[key]=_73[key];}}}else{_74=_73[evt]||(_73[evt]=[]);}return _74;};_6b.flattenListeners=function flattenListeners(_75){var _76=[];var i;for(i=0;i<_75.length;i+=1){_76.push(_75[i].listener);}return _76;};_6b.getListenersAsObject=function getListenersAsObject(evt){var _77=this.getListeners(evt);var _78;if(_77 instanceof Array){_78={};_78[evt]=_77;}return _78||_77;};_6b.addListener=function addListener(evt,_79){var _7a=this.getListenersAsObject(evt);var _7b=typeof _79==="object";var key;for(key in _7a){if(_7a.hasOwnProperty(key)&&_6e(_7a[key],_79)===-1){_7a[key].push(_7b?_79:{listener:_79,once:false});}}return this;};_6b.on=_71("addListener");_6b.addOnceListener=function addOnceListener(evt,_7c){return this.addListener(evt,{listener:_7c,once:true});};_6b.once=_71("addOnceListener");_6b.defineEvent=function defineEvent(evt){this.getListeners(evt);return this;};_6b.defineEvents=function defineEvents(_7d){for(var i=0;i<_7d.length;i+=1){this.defineEvent(_7d[i]);}return this;};_6b.removeListener=function removeListener(evt,_7e){var _7f=this.getListenersAsObject(evt);var _80;var key;for(key in _7f){if(_7f.hasOwnProperty(key)){_80=_6e(_7f[key],_7e);if(_80!==-1){_7f[key].splice(_80,1);}}}return this;};_6b.off=_71("removeListener");_6b.addListeners=function addListeners(evt,_81){return this.manipulateListeners(false,evt,_81);};_6b.removeListeners=function removeListeners(evt,_82){return this.manipulateListeners(true,evt,_82);};_6b.manipulateListeners=function manipulateListeners(_83,evt,_84){var i;var _85;var _86=_83?this.removeListener:this.addListener;var _87=_83?this.removeListeners:this.addListeners;if(typeof evt==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(_85=evt[i])){if(typeof _85==="function"){_86.call(this,i,_85);}else{_87.call(this,i,_85);}}}}else{i=_84.length;while(i--){_86.call(this,evt,_84[i]);}}return this;};_6b.removeEvent=function removeEvent(evt){var _88=typeof evt;var _89=this._getEvents();var key;if(_88==="string"){delete _89[evt];}else{if(evt instanceof RegExp){for(key in _89){if(_89.hasOwnProperty(key)&&evt.test(key)){delete _89[key];}}}else{delete this._events;}}return this;};_6b.removeAllListeners=_71("removeEvent");_6b.emitEvent=function emitEvent(evt,_8a){var _8b=this.getListenersAsObject(evt);var _8c;var i;var key;var _8d;for(key in _8b){if(_8b.hasOwnProperty(key)){i=_8b[key].length;while(i--){_8c=_8b[key][i];if(_8c.once===true){this.removeListener(evt,_8c.listener);}_8d=_8c.listener.apply(this,_8a||[]);if(_8d===this._getOnceReturnValue()){this.removeListener(evt,_8c.listener);}}}}return this;};_6b.trigger=_71("emitEvent");_6b.emit=function emit(evt){var _8e=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,_8e);};_6b.setOnceReturnValue=function setOnceReturnValue(_8f){this._onceReturnValue=_8f;return this;};_6b._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue;}else{return true;}};_6b._getEvents=function _getEvents(){return this._events||(this._events={});};_6a.noConflict=function noConflict(){_6c.EventEmitter=_6d;return _6a;};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return _6a;});}else{if(typeof module==="object"&&module.exports){module.exports=_6a;}else{this.EventEmitter=_6a;}}}.call(this));(function(_90,_91){var _92=(function(){if(_91.matchesSelector){return "matchesSelector";}var _93=["webkit","moz","ms","o"];for(var i=0,len=_93.length;i<len;i++){var _94=_93[i];var _95=_94+"MatchesSelector";if(_91[_95]){return _95;}}})();function _96(_97,_98){return _97[_92](_98);};function _99(_9a){if(_9a.parentNode){return;}var _9b=document.createDocumentFragment();_9b.appendChild(_9a);};function _9c(_9d,_9e){_99(_9d);var _9f=_9d.parentNode.querySelectorAll(_9e);for(var i=0,len=_9f.length;i<len;i++){if(_9f[i]===_9d){return true;}}return false;};function _a0(_a1,_a2){_99(_a1);return _96(_a1,_a2);};var _a3;if(_92){var div=document.createElement("div");var _a4=_96(div,"div");_a3=_a4?_96:_a0;}else{_a3=_9c;}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return _a3;});}else{window.matchesSelector=_a3;}})(this,Element.prototype);(function(_a5){var _a6=document.defaultView;var _a7=_a6&&_a6.getComputedStyle?function(_a8){return _a6.getComputedStyle(_a8,null);}:function(_a9){return _a9.currentStyle;};function _aa(a,b){for(var _ab in b){a[_ab]=b[_ab];}return a;};function _ac(obj){for(var _ad in obj){return false;}_ad=null;return true;};function _ae(str){return str.replace(/([A-Z])/g,function($1){return "-"+$1.toLowerCase();});};function _af(_b0,_b1,_b2){var _b3=_b2("transition");var _b4=_b2("transform");var _b5=_b3&&_b4;var _b6=!!_b2("perspective");var _b7={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[_b3];var _b8=["transform","transition","transitionDuration","transitionProperty"];var _b9=(function(){var _ba={};for(var i=0,len=_b8.length;i<len;i++){var _bb=_b8[i];var _bc=_b2(_bb);if(_bc&&_bc!==_bb){_ba[_bb]=_bc;}}return _ba;})();function _bd(_be,_bf){if(!_be){return;}this.element=_be;this.layout=_bf;this.position={x:0,y:0};this._create();};_aa(_bd.prototype,_b0.prototype);_bd.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"});};_bd.prototype.handleEvent=function(_c0){var _c1="on"+_c0.type;if(this[_c1]){this[_c1](_c0);}};_bd.prototype.getSize=function(){this.size=_b1(this.element);};_bd.prototype.css=function(_c2){var _c3=this.element.style;for(var _c4 in _c2){var _c5=_b9[_c4]||_c4;_c3[_c5]=_c2[_c4];}};_bd.prototype.getPosition=function(){var _c6=_a7(this.element);var _c7=this.layout.options;var _c8=_c7.isOriginLeft;var _c9=_c7.isOriginTop;var x=parseInt(_c6[_c8?"left":"right"],10);var y=parseInt(_c6[_c9?"top":"bottom"],10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;var _ca=this.layout.size;x-=_c8?_ca.paddingLeft:_ca.paddingRight;y-=_c9?_ca.paddingTop:_ca.paddingBottom;this.position.x=x;this.position.y=y;};_bd.prototype.layoutPosition=function(){var _cb=this.layout.size;var _cc=this.layout.options;var _cd={};if(_cc.isOriginLeft){_cd.left=(this.position.x+_cb.paddingLeft)+"px";_cd.right="";}else{_cd.right=(this.position.x+_cb.paddingRight)+"px";_cd.left="";}if(_cc.isOriginTop){_cd.top=(this.position.y+_cb.paddingTop)+"px";_cd.bottom="";}else{_cd.bottom=(this.position.y+_cb.paddingBottom)+"px";_cd.top="";}this.css(_cd);this.emitEvent("layout",[this]);};var _ce=_b6?function(x,y){return "translate3d("+x+"px, "+y+"px, 0)";}:function(x,y){return "translate("+x+"px, "+y+"px)";};_bd.prototype._transitionTo=function(x,y){this.getPosition();var _cf=this.position.x;var _d0=this.position.y;var _d1=parseInt(x,10);var _d2=parseInt(y,10);var _d3=_d1===this.position.x&&_d2===this.position.y;this.setPosition(x,y);if(_d3&&!this.isTransitioning){this.layoutPosition();return;}var _d4=x-_cf;var _d5=y-_d0;var _d6={};var _d7=this.layout.options;_d4=_d7.isOriginLeft?_d4:-_d4;_d5=_d7.isOriginTop?_d5:-_d5;_d6.transform=_ce(_d4,_d5);this.transition({to:_d6,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true});};_bd.prototype.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition();};_bd.prototype.moveTo=_b5?_bd.prototype._transitionTo:_bd.prototype.goTo;_bd.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10);};_bd.prototype._nonTransition=function(_d8){this.css(_d8.to);if(_d8.isCleaning){this._removeStyles(_d8.to);}for(var _d9 in _d8.onTransitionEnd){_d8.onTransitionEnd[_d9].call(this);}};_bd.prototype._transition=function(_da){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(_da);return;}var _db=this._transn;for(var _dc in _da.onTransitionEnd){_db.onEnd[_dc]=_da.onTransitionEnd[_dc];}for(_dc in _da.to){_db.ingProperties[_dc]=true;if(_da.isCleaning){_db.clean[_dc]=true;}}if(_da.from){this.css(_da.from);var h=this.element.offsetHeight;h=null;}this.enableTransition(_da.to);this.css(_da.to);this.isTransitioning=true;};var _dd=_b4&&(_ae(_b4)+",opacity");_bd.prototype.enableTransition=function(){if(this.isTransitioning){return;}this.css({transitionProperty:_dd,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(_b7,this,false);};_bd.prototype.transition=_bd.prototype[_b3?"_transition":"_nonTransition"];_bd.prototype.onwebkitTransitionEnd=function(_de){this.ontransitionend(_de);};_bd.prototype.onotransitionend=function(_df){this.ontransitionend(_df);};var _e0={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};_bd.prototype.ontransitionend=function(_e1){if(_e1.target!==this.element){return;}var _e2=this._transn;var _e3=_e0[_e1.propertyName]||_e1.propertyName;delete _e2.ingProperties[_e3];if(_ac(_e2.ingProperties)){this.disableTransition();}if(_e3 in _e2.clean){this.element.style[_e1.propertyName]="";delete _e2.clean[_e3];}if(_e3 in _e2.onEnd){var _e4=_e2.onEnd[_e3];_e4.call(this);delete _e2.onEnd[_e3];}this.emitEvent("transitionEnd",[this]);};_bd.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(_b7,this,false);this.isTransitioning=false;};_bd.prototype._removeStyles=function(_e5){var _e6={};for(var _e7 in _e5){_e6[_e7]="";}this.css(_e6);};var _e8={transitionProperty:"",transitionDuration:""};_bd.prototype.removeTransitionStyles=function(){this.css(_e8);};_bd.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this]);};_bd.prototype.remove=function(){if(!_b3||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return;}var _e9=this;this.on("transitionEnd",function(){_e9.removeElem();return true;});this.hide();};_bd.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var _ea=this.layout.options;this.transition({from:_ea.hiddenStyle,to:_ea.visibleStyle,isCleaning:true});};_bd.prototype.hide=function(){this.isHidden=true;this.css({display:""});var _eb=this.layout.options;this.transition({from:_eb.visibleStyle,to:_eb.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"});}}}});};_bd.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});};return _bd;};if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],_af);}else{_a5.Outlayer={};_a5.Outlayer.Item=_af(_a5.EventEmitter,_a5.getSize,_a5.getStyleProperty);}})(window);(function(_ec){var _ed=_ec.document;var _ee=_ec.console;var _ef=_ec.jQuery;var _f0=function(){};function _f1(a,b){for(var _f2 in b){a[_f2]=b[_f2];}return a;};var _f3=Object.prototype.toString;function _f4(obj){return _f3.call(obj)==="[object Array]";};function _f5(obj){var ary=[];if(_f4(obj)){ary=obj;}else{if(obj&&typeof obj.length==="number"){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i]);}}else{ary.push(obj);}}return ary;};var _f6=(typeof HTMLElement==="object")?function isElementDOM2(obj){return obj instanceof HTMLElement;}:function isElementQuirky(obj){return obj&&typeof obj==="object"&&obj.nodeType===1&&typeof obj.nodeName==="string";};var _f7=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj);}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++){if(ary[i]===obj){return i;}}return -1;};function _f8(obj,ary){var _f9=_f7(ary,obj);if(_f9!==-1){ary.splice(_f9,1);}};function _fa(str){return str.replace(/(.)([A-Z])/g,function(_fb,$1,$2){return $1+"-"+$2;}).toLowerCase();};function _fc(_fd,_fe,_ff,_100,_101,Item){var GUID=0;var _102={};function _103(_104,_105){if(typeof _104==="string"){_104=_ed.querySelector(_104);}if(!_104||!_f6(_104)){if(_ee){_ee.error("Bad "+this.constructor.namespace+" element: "+_104);}return;}this.element=_104;this.options=_f1({},this.options);this.option(_105);var id=++GUID;this.element.outlayerGUID=id;_102[id]=this;this._create();if(this.options.isInitLayout){this.layout();}};_103.namespace="outlayer";_103.Item=Item;_103.prototype.options={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};_f1(_103.prototype,_ff.prototype);_103.prototype.option=function(opts){_f1(this.options,opts);};_103.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);_f1(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize();}};_103.prototype.reloadItems=function(){this.items=this._itemize(this.element.children);};_103.prototype._itemize=function(_106){var _107=this._filterFindItemElements(_106);var Item=this.constructor.Item;var _108=[];for(var i=0,len=_107.length;i<len;i++){var elem=_107[i];var item=new Item(elem,this);_108.push(item);}return _108;};_103.prototype._filterFindItemElements=function(_109){_109=_f5(_109);var _10a=this.options.itemSelector;var _10b=[];for(var i=0,len=_109.length;i<len;i++){var elem=_109[i];if(!_f6(elem)){continue;}if(_10a){if(_101(elem,_10a)){_10b.push(elem);}var _10c=elem.querySelectorAll(_10a);for(var j=0,jLen=_10c.length;j<jLen;j++){_10b.push(_10c[j]);}}else{_10b.push(elem);}}return _10b;};_103.prototype.getItemElements=function(){var _10d=[];for(var i=0,len=this.items.length;i<len;i++){_10d.push(this.items[i].element);}return _10d;};_103.prototype.layout=function(){this._resetLayout();this._manageStamps();var _10e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,_10e);this._isLayoutInited=true;};_103.prototype._init=_103.prototype.layout;_103.prototype._resetLayout=function(){this.getSize();};_103.prototype.getSize=function(){this.size=_100(this.element);};_103.prototype._getMeasurement=function(_10f,size){var _110=this.options[_10f];var elem;if(!_110){this[_10f]=0;}else{if(typeof _110==="string"){elem=this.element.querySelector(_110);}else{if(_f6(_110)){elem=_110;}}this[_10f]=elem?_100(elem)[size]:_110;}};_103.prototype.layoutItems=function(_111,_112){_111=this._getItemsForLayout(_111);this._layoutItems(_111,_112);this._postLayout();};_103.prototype._getItemsForLayout=function(_113){var _114=[];for(var i=0,len=_113.length;i<len;i++){var item=_113[i];if(!item.isIgnored){_114.push(item);}}return _114;};_103.prototype._layoutItems=function(_115,_116){var _117=this;function _118(){_117.emitEvent("layoutComplete",[_117,_115]);};if(!_115||!_115.length){_118();return;}this._itemsOn(_115,"layout",_118);var _119=[];for(var i=0,len=_115.length;i<len;i++){var item=_115[i];var _11a=this._getItemLayoutPosition(item);_11a.item=item;_11a.isInstant=_116||item.isLayoutInstant;_119.push(_11a);}this._processLayoutQueue(_119);};_103.prototype._getItemLayoutPosition=function(){return {x:0,y:0};};_103.prototype._processLayoutQueue=function(_11b){for(var i=0,len=_11b.length;i<len;i++){var obj=_11b[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant);}};_103.prototype._positionItem=function(item,x,y,_11c){if(_11c){item.goTo(x,y);}else{item.moveTo(x,y);}};_103.prototype._postLayout=function(){var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,true);this._setContainerMeasure(size.height,false);}};_103.prototype._getContainerSize=_f0;_103.prototype._setContainerMeasure=function(_11d,_11e){if(_11d===undefined){return;}var _11f=this.size;if(_11f.isBorderBox){_11d+=_11e?_11f.paddingLeft+_11f.paddingRight+_11f.borderLeftWidth+_11f.borderRightWidth:_11f.paddingBottom+_11f.paddingTop+_11f.borderTopWidth+_11f.borderBottomWidth;}_11d=Math.max(_11d,0);this.element.style[_11e?"width":"height"]=_11d+"px";};_103.prototype._itemsOn=function(_120,_121,_122){var _123=0;var _124=_120.length;var _125=this;function tick(){_123++;if(_123===_124){_122.call(_125);}return true;};for(var i=0,len=_120.length;i<len;i++){var item=_120[i];item.on(_121,tick);}};_103.prototype.ignore=function(elem){var item=this.getItem(elem);if(item){item.isIgnored=true;}};_103.prototype.unignore=function(elem){var item=this.getItem(elem);if(item){delete item.isIgnored;}};_103.prototype.stamp=function(_126){_126=this._find(_126);if(!_126){return;}this.stamps=this.stamps.concat(_126);for(var i=0,len=_126.length;i<len;i++){var elem=_126[i];this.ignore(elem);}};_103.prototype.unstamp=function(_127){_127=this._find(_127);if(!_127){return;}for(var i=0,len=_127.length;i<len;i++){var elem=_127[i];_f8(elem,this.stamps);this.unignore(elem);}};_103.prototype._find=function(_128){if(!_128){return;}if(typeof _128==="string"){_128=this.element.querySelectorAll(_128);}_128=_f5(_128);return _128;};_103.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return;}this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var _129=this.stamps[i];this._manageStamp(_129);}};_103.prototype._getBoundingRect=function(){var _12a=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:_12a.left+size.paddingLeft+size.borderLeftWidth,top:_12a.top+size.paddingTop+size.borderTopWidth,right:_12a.right-(size.paddingRight+size.borderRightWidth),bottom:_12a.bottom-(size.paddingBottom+size.borderBottomWidth)};};_103.prototype._manageStamp=_f0;_103.prototype._getElementOffset=function(elem){var _12b=elem.getBoundingClientRect();var _12c=this._boundingRect;var size=_100(elem);var _12d={left:_12b.left-_12c.left-size.marginLeft,top:_12b.top-_12c.top-size.marginTop,right:_12c.right-_12b.right-size.marginRight,bottom:_12c.bottom-_12b.bottom-size.marginBottom};return _12d;};_103.prototype.handleEvent=function(_12e){var _12f="on"+_12e.type;if(this[_12f]){this[_12f](_12e);}};_103.prototype.bindResize=function(){if(this.isResizeBound){return;}_fd.bind(_ec,"resize",this);this.isResizeBound=true;};_103.prototype.unbindResize=function(){_fd.unbind(_ec,"resize",this);this.isResizeBound=false;};_103.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout);}var _130=this;function _131(){_130.resize();delete _130.resizeTimeout;};this.resizeTimeout=setTimeout(_131,100);};_103.prototype.resize=function(){var size=_100(this.element);var _132=this.size&&size;if(_132&&size.innerWidth===this.size.innerWidth){return;}this.layout();};_103.prototype.addItems=function(_133){var _134=this._itemize(_133);if(_134.length){this.items=this.items.concat(_134);}return _134;};_103.prototype.appended=function(_135){var _136=this.addItems(_135);if(!_136.length){return;}this.layoutItems(_136,true);this.reveal(_136);};_103.prototype.prepended=function(_137){var _138=this._itemize(_137);if(!_138.length){return;}var _139=this.items.slice(0);this.items=_138.concat(_139);this._resetLayout();this._manageStamps();this.layoutItems(_138,true);this.reveal(_138);this.layoutItems(_139);};_103.prototype.reveal=function(_13a){var len=_13a&&_13a.length;if(!len){return;}for(var i=0;i<len;i++){var item=_13a[i];item.reveal();}};_103.prototype.hide=function(_13b){var len=_13b&&_13b.length;if(!len){return;}for(var i=0;i<len;i++){var item=_13b[i];item.hide();}};_103.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem){return item;}}};_103.prototype.getItems=function(_13c){if(!_13c||!_13c.length){return;}var _13d=[];for(var i=0,len=_13c.length;i<len;i++){var elem=_13c[i];var item=this.getItem(elem);if(item){_13d.push(item);}}return _13d;};_103.prototype.remove=function(_13e){_13e=_f5(_13e);var _13f=this.getItems(_13e);if(!_13f||!_13f.length){return;}this._itemsOn(_13f,"remove",function(){this.emitEvent("removeComplete",[this,_13f]);});for(var i=0,len=_13f.length;i<len;i++){var item=_13f[i];item.remove();_f8(item,this.items);}};_103.prototype.destroy=function(){var _140=this.element.style;_140.height="";_140.position="";_140.width="";for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.destroy();}this.unbindResize();delete this.element.outlayerGUID;if(_ef){_ef.removeData(this.element,this.constructor.namespace);}};_103.data=function(elem){var id=elem&&elem.outlayerGUID;return id&&_102[id];};function _141(obj,_142){obj.prototype[_142]=_f1({},_103.prototype[_142]);};_103.create=function(_143,_144){function _145(){_103.apply(this,arguments);};if(Object.create){_145.prototype=Object.create(_103.prototype);}else{_f1(_145.prototype,_103.prototype);}_145.prototype.constructor=_145;_141(_145,"options");_f1(_145.prototype.options,_144);_145.namespace=_143;_145.data=_103.data;_145.Item=function LayoutItem(){Item.apply(this,arguments);};_145.Item.prototype=new Item();_fe(function(){var _146=_fa(_143);var _147=_ed.querySelectorAll(".js-"+_146);var _148="data-"+_146+"-options";for(var i=0,len=_147.length;i<len;i++){var elem=_147[i];var attr=elem.getAttribute(_148);var _149;try{_149=attr&&JSON.parse(attr);}catch(error){if(_ee){_ee.error("Error parsing "+_148+" on "+elem.nodeName.toLowerCase()+(elem.id?"#"+elem.id:"")+": "+error);}continue;}var _14a=new _145(elem,_149);if(_ef){_ef.data(elem,_143,_14a);}}});if(_ef&&_ef.bridget){_ef.bridget(_143,_145);}return _145;};_103.Item=Item;return _103;};if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],_fc);}else{_ec.Outlayer=_fc(_ec.eventie,_ec.docReady,_ec.EventEmitter,_ec.getSize,_ec.matchesSelector,_ec.Outlayer.Item);}})(window);(function(_14b){var _14c=_14b.Packery=function(){};function _14d(){function Rect(_14e){for(var prop in Rect.defaults){this[prop]=Rect.defaults[prop];}for(prop in _14e){this[prop]=_14e[prop];}};_14c.Rect=Rect;Rect.defaults={x:0,y:0,width:0,height:0};Rect.prototype.contains=function(rect){var _14f=rect.width||0;var _150=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+_14f&&this.y+this.height>=rect.y+_150;};Rect.prototype.overlaps=function(rect){var _151=this.x+this.width;var _152=this.y+this.height;var _153=rect.x+rect.width;var _154=rect.y+rect.height;return this.x<_153&&_151>rect.x&&this.y<_154&&_152>rect.y;};Rect.prototype.getMaximalFreeRects=function(rect){if(!this.overlaps(rect)){return false;}var _155=[];var _156;var _157=this.x+this.width;var _158=this.y+this.height;var _159=rect.x+rect.width;var _15a=rect.y+rect.height;if(this.y<rect.y){_156=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y});_155.push(_156);}if(_157>_159){_156=new Rect({x:_159,y:this.y,width:_157-_159,height:this.height});_155.push(_156);}if(_158>_15a){_156=new Rect({x:this.x,y:_15a,width:this.width,height:_158-_15a});_155.push(_156);}if(this.x<rect.x){_156=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height});_155.push(_156);}return _155;};Rect.prototype.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height;};return Rect;};if(typeof define==="function"&&define.amd){define("packery/js/rect",_14d);}else{_14b.Packery=_14b.Packery||{};_14b.Packery.Rect=_14d();}})(window);(function(_15b){function _15c(Rect){function _15d(_15e,_15f,_160){this.width=_15e||0;this.height=_15f||0;this.sortDirection=_160||"downwardLeftToRight";this.reset();};_15d.prototype.reset=function(){this.spaces=[];this.newSpaces=[];var _161=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(_161);this.sorter=_162[this.sortDirection]||_162.downwardLeftToRight;};_15d.prototype.pack=function(rect){for(var i=0,len=this.spaces.length;i<len;i++){var _163=this.spaces[i];if(_163.canFit(rect)){this.placeInSpace(rect,_163);break;}}};_15d.prototype.placeInSpace=function(rect,_164){rect.x=_164.x;rect.y=_164.y;this.placed(rect);};_15d.prototype.placed=function(rect){var _165=[];for(var i=0,len=this.spaces.length;i<len;i++){var _166=this.spaces[i];var _167=_166.getMaximalFreeRects(rect);if(_167){_165.push.apply(_165,_167);}else{_165.push(_166);}}this.spaces=_165;_15d.mergeRects(this.spaces);this.spaces.sort(this.sorter);};_15d.mergeRects=function(_168){for(var i=0,len=_168.length;i<len;i++){var rect=_168[i];if(!rect){continue;}var _169=_168.slice(0);_169.splice(i,1);var _16a=0;for(var j=0,jLen=_169.length;j<jLen;j++){var _16b=_169[j];var _16c=i>j?0:1;if(rect.contains(_16b)){_168.splice(j+_16c-_16a,1);_16a++;}}}return _168;};var _162={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x;},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y;}};return _15d;};if(typeof define==="function"&&define.amd){define("packery/js/packer",["./rect"],_15c);}else{var _16d=_15b.Packery=_15b.Packery||{};_16d.Packer=_15c(_16d.Rect);}})(window);(function(_16e){function _16f(_170,_171,Rect){var _172=_170("transform");var Item=function PackeryItem(){_171.Item.apply(this,arguments);};Item.prototype=new _171.Item();var _173=Item.prototype._create;Item.prototype._create=function(){_173.call(this);this.rect=new Rect();this.placeRect=new Rect();};Item.prototype.dragStart=function(){this.getPosition();this.removeTransitionStyles();if(this.isTransitioning&&_172){this.element.style[_172]="none";}this.getSize();this.isPlacing=true;this.needsPositioning=false;this.positionPlaceRect(this.position.x,this.position.y);this.isTransitioning=false;this.didDrag=false;};Item.prototype.dragMove=function(x,y){this.didDrag=true;var _174=this.layout.size;x-=_174.paddingLeft;y-=_174.paddingTop;this.positionPlaceRect(x,y);};Item.prototype.dragStop=function(){this.getPosition();var _175=this.position.x!==this.placeRect.x;var _176=this.position.y!==this.placeRect.y;this.needsPositioning=_175||_176;this.didDrag=false;};Item.prototype.positionPlaceRect=function(x,y,_177){this.placeRect.x=this.getPlaceRectCoord(x,true);this.placeRect.y=this.getPlaceRectCoord(y,false,_177);};Item.prototype.getPlaceRectCoord=function(_178,isX,_179){var _17a=isX?"Width":"Height";var size=this.size["outer"+_17a];var _17b=this.layout[isX?"columnWidth":"rowHeight"];var _17c=this.layout.size["inner"+_17a];if(!isX){_17c=Math.max(_17c,this.layout.maxY);if(!this.layout.rowHeight){_17c-=this.layout.gutter;}}var max;if(_17b){_17b+=this.layout.gutter;_17c+=isX?this.layout.gutter:0;_178=Math.round(_178/_17b);var _17d;if(this.layout.options.isHorizontal){_17d=!isX?"floor":"ceil";}else{_17d=isX?"floor":"ceil";}var _17e=Math[_17d](_17c/_17b);_17e-=Math.ceil(size/_17b);max=_17e;}else{max=_17c-size;}_178=_179?_178:Math.min(_178,max);_178*=_17b||1;return Math.max(0,_178);};Item.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x;this.rect.y=this.placeRect.y;};return Item;};if(typeof define==="function"&&define.amd){define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],_16f);}else{_16e.Packery.Item=_16f(_16e.getStyleProperty,_16e.Outlayer,_16e.Packery.Rect);}})(window);(function(_17f){function _180(_181,_182,_183,Rect,_184,Item){var _185=_183.create("packery");_185.Item=Item;_185.prototype._create=function(){_183.prototype._create.call(this);this.packer=new _184();this.stamp(this.options.stamped);var _186=this;this.handleDraggabilly={dragStart:function(_187){_186.itemDragStart(_187.element);},dragMove:function(_188){_186.itemDragMove(_188.element,_188.position.x,_188.position.y);},dragEnd:function(_189){_186.itemDragEnd(_189.element);}};this.handleUIDraggable={start:function handleUIDraggableStart(_18a){_186.itemDragStart(_18a.currentTarget);},drag:function handleUIDraggableDrag(_18b,ui){_186.itemDragMove(_18b.currentTarget,ui.position.left,ui.position.top);},stop:function handleUIDraggableStop(_18c){_186.itemDragEnd(_18c.currentTarget);}};};_185.prototype._resetLayout=function(){this.getSize();this._getMeasurements();var _18d=this.packer;if(this.options.isHorizontal){_18d.width=Number.POSITIVE_INFINITY;_18d.height=this.size.innerHeight+this.gutter;_18d.sortDirection="rightwardTopToBottom";}else{_18d.width=this.size.innerWidth+this.gutter;_18d.height=Number.POSITIVE_INFINITY;_18d.sortDirection="downwardLeftToRight";}_18d.reset();this.maxY=0;this.maxX=0;};_185.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width");};_185.prototype._getItemLayoutPosition=function(item){this._packItem(item);return item.rect;};_185.prototype._packItem=function(item){this._setRectSize(item.element,item.rect);this.packer.pack(item.rect);this._setMaxXY(item.rect);};_185.prototype._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX);this.maxY=Math.max(rect.y+rect.height,this.maxY);};_185.prototype._setRectSize=function(elem,rect){var size=_182(elem);var w=size.outerWidth;var h=size.outerHeight;var colW=this.columnWidth+this.gutter;var rowH=this.rowHeight+this.gutter;w=this.columnWidth?Math.ceil(w/colW)*colW:w+this.gutter;h=this.rowHeight?Math.ceil(h/rowH)*rowH:h+this.gutter;rect.width=Math.min(w,this.packer.width);rect.height=h;};_185.prototype._getContainerSize=function(){if(this.options.isHorizontal){return {width:this.maxX-this.gutter};}else{return {height:this.maxY-this.gutter};}};_185.prototype._manageStamp=function(elem){var item=this.getItem(elem);var rect;if(item&&item.isPlacing){rect=item.placeRect;}else{var _18e=this._getElementOffset(elem);rect=new Rect({x:this.options.isOriginLeft?_18e.left:_18e.right,y:this.options.isOriginTop?_18e.top:_18e.bottom});}this._setRectSize(elem,rect);this.packer.placed(rect);this._setMaxXY(rect);};function _18f(a,b){return a.position.y-b.position.y||a.position.x-b.position.x;};function _190(a,b){return a.position.x-b.position.x||a.position.y-b.position.y;};_185.prototype.sortItemsByPosition=function(){var _191=this.options.isHorizontal?_190:_18f;this.items.sort(_191);};_185.prototype.fit=function(elem,x,y){var item=this.getItem(elem);if(!item){return;}this._getMeasurements();this.stamp(item.element);item.getSize();item.isPlacing=true;x=x===undefined?item.rect.x:x;y=y===undefined?item.rect.y:y;item.positionPlaceRect(x,y,true);this._bindFitEvents(item);item.moveTo(item.placeRect.x,item.placeRect.y);this.layout();this.unstamp(item.element);this.sortItemsByPosition();item.isPlacing=false;item.copyPlaceRectPosition();};_185.prototype._bindFitEvents=function(item){var _192=this;var _193=0;function tick(){_193++;if(_193!==2){return;}_192.emitEvent("fitComplete",[_192,item]);};item.on("layout",function(){tick();return true;});this.on("layoutComplete",function(){tick();return true;});};_185.prototype.resize=function(){var size=_182(this.element);var _194=this.size&&size;var _195=this.options.isHorizontal?"innerHeight":"innerWidth";if(_194&&size[_195]===this.size[_195]){return;}this.layout();};_185.prototype.itemDragStart=function(elem){this.stamp(elem);var item=this.getItem(elem);if(item){item.dragStart();}};_185.prototype.itemDragMove=function(elem,x,y){var item=this.getItem(elem);if(item){item.dragMove(x,y);}var _196=this;function _197(){_196.layout();delete _196.dragTimeout;};this.clearDragTimeout();this.dragTimeout=setTimeout(_197,40);};_185.prototype.clearDragTimeout=function(){if(this.dragTimeout){clearTimeout(this.dragTimeout);}};_185.prototype.itemDragEnd=function(elem){var item=this.getItem(elem);var _198;if(item){_198=item.didDrag;item.dragStop();}if(!item||(!_198&&!item.needsPositioning)){this.unstamp(elem);return;}_181.add(item.element,"is-positioning-post-drag");var _199=this._getDragEndLayoutComplete(elem,item);if(item.needsPositioning){item.on("layout",_199);item.moveTo(item.placeRect.x,item.placeRect.y);}else{if(item){item.copyPlaceRectPosition();}}this.clearDragTimeout();this.on("layoutComplete",_199);this.layout();};_185.prototype._getDragEndLayoutComplete=function(elem,item){var _19a=item&&item.needsPositioning;var _19b=0;var _19c=_19a?2:1;var _19d=this;return function onLayoutComplete(){_19b++;if(_19b!==_19c){return true;}if(item){_181.remove(item.element,"is-positioning-post-drag");item.isPlacing=false;item.copyPlaceRectPosition();}_19d.unstamp(elem);_19d.sortItemsByPosition();if(_19a){_19d.emitEvent("dragItemPositioned",[_19d,item]);}return true;};};_185.prototype.bindDraggabillyEvents=function(_19e){_19e.on("dragStart",this.handleDraggabilly.dragStart);_19e.on("dragMove",this.handleDraggabilly.dragMove);_19e.on("dragEnd",this.handleDraggabilly.dragEnd);};_185.prototype.bindUIDraggableEvents=function(_19f){_19f.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop);};_185.Rect=Rect;_185.Packer=_184;return _185;};if(typeof define==="function"&&define.amd){define(["classie/classie","get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],_180);}else{_17f.Packery=_180(_17f.classie,_17f.getSize,_17f.Outlayer,_17f.Packery.Rect,_17f.Packery.Packer,_17f.Packery.Item);}})(window);